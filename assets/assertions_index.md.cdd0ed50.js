import{_ as s,c as a,o as n,a as e}from"./app.7cd9a1c5.js";const y=JSON.parse('{"title":"Assertions","description":"","frontmatter":{},"headers":[{"level":2,"title":"hasEmailOutputOnFailure","slug":"hasemailoutputonfailure","link":"#hasemailoutputonfailure","children":[]},{"level":2,"title":"hasExpression","slug":"hasexpression","link":"#hasexpression","children":[]},{"level":2,"title":"hasTimezone","slug":"hastimezone","link":"#hastimezone","children":[]},{"level":2,"title":"isScheduled","slug":"isscheduled","link":"#isscheduled","children":[]},{"level":2,"title":"isScheduledToRunAt","slug":"isscheduledtorunat","link":"#isscheduledtorunat","children":[]},{"level":2,"title":"runsInEnvironment","slug":"runsinenvironment","link":"#runsinenvironment","children":[]},{"level":2,"title":"runsInMaintenanceMode","slug":"runsinmaintenancemode","link":"#runsinmaintenancemode","children":[]},{"level":2,"title":"canOverlap","slug":"canoverlap","link":"#canoverlap","children":[]},{"level":2,"title":"cannotOverlap","slug":"cannotoverlap","link":"#cannotoverlap","children":[]}],"relativePath":"assertions/index.md","lastUpdated":1677225951000}'),l={name:"assertions/index.md"},p=e(`<h1 id="assertions" tabindex="-1">Assertions <a class="header-anchor" href="#assertions" aria-hidden="true">#</a></h1><nav class="table-of-contents"><ul><li><a href="#hasemailoutputonfailure">hasEmailOutputOnFailure</a></li><li><a href="#hasexpression">hasExpression</a></li><li><a href="#hastimezone">hasTimezone</a></li><li><a href="#isscheduled">isScheduled</a></li><li><a href="#isscheduledtorunat">isScheduledToRunAt</a></li><li><a href="#runsinenvironment">runsInEnvironment</a></li><li><a href="#runsinmaintenancemode">runsInMaintenanceMode</a></li><li><a href="#canoverlap">canOverlap</a></li><li><a href="#cannotoverlap">cannotOverlap</a></li></ul></nav><h2 id="hasemailoutputonfailure" tabindex="-1">hasEmailOutputOnFailure <a class="header-anchor" href="#hasemailoutputonfailure" aria-hidden="true">#</a></h2><p>Asserts that the command has the given email recipients configured to receive an email with output on failure.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">hasEmailOutputOnFailure</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">email@gmail.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>Multiple recipients can be checked by using an array:</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">hasEmailOutputOnFailure</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">email@gmail.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">email@outlook.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span></code></pre></div><h2 id="hasexpression" tabindex="-1">hasExpression <a class="header-anchor" href="#hasexpression" aria-hidden="true">#</a></h2><p>Asserts that the command has the given cron expression.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">hasExpression</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0 * * * *</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="hastimezone" tabindex="-1">hasTimezone <a class="header-anchor" href="#hastimezone" aria-hidden="true">#</a></h2><p>Asserts that the command has the given timezone.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">hasTimezone</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Australia/Perth</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>Or you can pass a DateTimeZone:</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">hasTimezone</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DateTimeZone</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Australia/Perth</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"></span></code></pre></div><h2 id="isscheduled" tabindex="-1">isScheduled <a class="header-anchor" href="#isscheduled" aria-hidden="true">#</a></h2><p>Asserts that the command has a defined schedule.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">isScheduled</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre></div><p>An optional parameter can be provided to check that the command is scheduled to run at the given time.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">isScheduled</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">now</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">startOfDay</span><span style="color:#89DDFF;">());</span></span>
<span class="line"></span></code></pre></div><h2 id="isscheduledtorunat" tabindex="-1">isScheduledToRunAt <a class="header-anchor" href="#isscheduledtorunat" aria-hidden="true">#</a></h2><p>Asserts that the command is scheduled to run at the provided date.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">isScheduledToRunAt</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">now</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">startOfDay</span><span style="color:#89DDFF;">());</span></span>
<span class="line"></span></code></pre></div><h2 id="runsinenvironment" tabindex="-1">runsInEnvironment <a class="header-anchor" href="#runsinenvironment" aria-hidden="true">#</a></h2><p>Asserts that the command is scheduled to run in all provided environments.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">runsInEnvironment</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>Multiple environments can be checked by using an array:</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">runsInEnvironment</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">staging</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span></code></pre></div><h2 id="runsinmaintenancemode" tabindex="-1">runsInMaintenanceMode <a class="header-anchor" href="#runsinmaintenancemode" aria-hidden="true">#</a></h2><p>Asserts that the command is scheduled to run even while the application is in maintenance mode.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">runsInMaintenanceMode</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre></div><h2 id="canoverlap" tabindex="-1">canOverlap <a class="header-anchor" href="#canoverlap" aria-hidden="true">#</a></h2><p>Asserts that the scheduled task can overlap a previous instance of the task still running.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">canOverlap</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre></div><h2 id="cannotoverlap" tabindex="-1">cannotOverlap <a class="header-anchor" href="#cannotoverlap" aria-hidden="true">#</a></h2><p>Asserts that the scheduled task cannot overlap a previous instance of the task still running.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertSchedule</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">command</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">cannotOverlap</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre></div>`,37),o=[p];function t(c,r,i,F,D,h){return n(),a("div",null,o)}const u=s(l,[["render",t]]);export{y as __pageData,u as default};
